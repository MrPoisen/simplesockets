
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.3">
    
    
      
        <title>How to use - SimpleSockets</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.e35208c4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="SimpleSockets" class="md-header__button md-logo" aria-label="SimpleSockets" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SimpleSockets
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              How to use
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
      <div class="md-header__source">
        
<a href="https://github.com/MrPoisen/simplesockets/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="SimpleSockets" class="md-nav__button md-logo" aria-label="SimpleSockets" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    SimpleSockets
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/MrPoisen/simplesockets/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        SimpleSockets
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="SimpleSockets" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          SimpleSockets
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          How to use
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        How to use
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#server" class="md-nav__link">
    Server
  </a>
  
    <nav class="md-nav" aria-label="Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#server-functions" class="md-nav__link">
    Server Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-variables" class="md-nav__link">
    Server Variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#client" class="md-nav__link">
    Client
  </a>
  
    <nav class="md-nav" aria-label="Client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#client-functions" class="md-nav__link">
    Client Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client-variables" class="md-nav__link">
    Client Variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../simple_sockets-reference/" class="md-nav__link">
        Simplesockets
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        SecureSockets
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="SecureSockets" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          SecureSockets
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../PyCryptodome_Socket-reference/" class="md-nav__link">
        Pycryptodome Variante
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Selfmade_Crypto_Socket-reference/" class="md-nav__link">
        Selfmade Variante
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#server" class="md-nav__link">
    Server
  </a>
  
    <nav class="md-nav" aria-label="Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#server-functions" class="md-nav__link">
    Server Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-variables" class="md-nav__link">
    Server Variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#client" class="md-nav__link">
    Client
  </a>
  
    <nav class="md-nav" aria-label="Client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#client-functions" class="md-nav__link">
    Client Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client-variables" class="md-nav__link">
    Client Variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/MrPoisen/simplesockets/edit/master/docs/simple_sockets_selfwritten.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="introduction">Introduction</h1>
<p>This module contains two classes: TCPServer and TCPClient.  </p>
<h2 id="server">Server</h2>
<p>Let's get started with the TCPServer:</p>
<p>Setting up and starting the Server is really easy:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">simplesockets.simplesockets</span> <span class="kn">import</span> <span class="n">TCPServer</span>

<span class="n">Server</span> <span class="o">=</span> <span class="n">TCPServer</span><span class="p">()</span> <span class="c1"># you could specify the max amount of conections</span>
<span class="n">Server</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">ip</span><span class="o">=</span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">9999</span><span class="p">)</span> <span class="c1"># more options: listen=5, recv_buffer=2048, handle_client=None</span>
<span class="n">Server</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</code></pre></div>
<p>When initializing the Server object, you can specify the amount of<br />
max connections: <code>Server = TCPServer(5)</code>.<br />
Then you need to call <code>setup()</code>. You can give the following arguments:<br />
- ip: <em>The ip the Server binds to, standard: <code>socket.gethostname()</code></em><br />
- port: <em>The port the Server binds to, standard: <code>25567</code></em><br />
- listen: <em>Is the value used in <code>socket.listen()</code>, standard: <code>5</code></em><br />
- recv_buffer: <em>Is the amount of bytes the socket receives at maximum, standard: <code>2048</code></em><br />
- handle_client: <em>The function used for handling a Client which has been accepted, standard: <code>None</code></em>, <span style="color:firebrick"> <strong>I recommend 
  to not change anything here</strong> </span><br />
- on_connect: <em>This variable should contain a function. It will be executed, when the Server got a new 
connection. It takes the address as an argument. standard: <code>None</code></em><br />
- on_disconnect: <em>This variable should contain a function. It will be executed, when a Client disconnects from the 
  Server. It takes the address as an argument. standard: <code>None</code></em><br />
- on_receive: <em>This variable should contain a function. It will be executed when the Client 
received new data. It takes the client socket, address and received data as an argument.</em>    </p>
<p>Now the Server must do something.<br />
We will build an echo Server, which will disconnect the Client after sending the received text.<br />
I recommend using a while loop to keep the server going.
<div class="highlight"><pre><span></span><code><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">Server</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">new_data</span><span class="p">:</span>
        <span class="n">recved_data</span> <span class="o">=</span> <span class="n">Server</span><span class="o">.</span><span class="n">return_recved_data</span><span class="p">()</span>
</code></pre></div></p>
<p>The <code>Server.event.new_data</code> variable is True if the Server received new data. The <code>Server.return_recved_data()</code> 
function returns the received data and turns the <code>Server.event.new_data</code> variable False. The returned variable is a list of 
all received data. Now you need to iterate over them.<br />
<div class="highlight"><pre><span></span><code>        <span class="k">for</span> <span class="n">data_element</span> <span class="ow">in</span> <span class="n">recved_data</span><span class="p">:</span>
            <span class="n">clientsocket</span><span class="p">,</span> <span class="n">address</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">data_element</span>
</code></pre></div></p>
<p>After iterating you will have a variable, here called <code>data_element</code>. It is a tuple containing a socket object from the Client, the 
address of the sender and the sent data. Now we can use the socket object for sending the data back, then we can close the connection.
Therefore, we call <code>Server.send_data()</code>. It takes two arguments:<br />
- data: <em>The data that you want to send. It should be type <code>bytes</code></em><br />
- client_socket: <em>The socket of the client</em>
<div class="highlight"><pre><span></span><code>            <span class="n">Server</span><span class="o">.</span><span class="n">send_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">clientsocket</span><span class="p">)</span>
            <span class="n">Server</span><span class="o">.</span><span class="n">disconnect</span><span class="p">(</span><span class="n">clientsocket</span><span class="p">)</span>
</code></pre></div></p>
<p>Now we are finished. Here the complete code:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">simplesockets.simplesockets</span> <span class="kn">import</span> <span class="n">TCPServer</span>

<span class="n">Server</span> <span class="o">=</span> <span class="n">TCPServer</span><span class="p">()</span>
<span class="n">Server</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">ip</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span><span class="n">port</span><span class="o">=</span><span class="mi">9999</span><span class="p">)</span> 
<span class="n">Server</span><span class="o">.</span><span class="n">start</span><span class="p">()</span> 

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">Server</span><span class="o">.</span><span class="n">new_data_recved</span><span class="p">:</span> <span class="c1">#checks if any data recved</span>
        <span class="n">recved_data</span> <span class="o">=</span> <span class="n">Server</span><span class="o">.</span><span class="n">return_recved_data</span><span class="p">()</span> <span class="c1">#returns the recved data as a list</span>
        <span class="k">for</span> <span class="n">data_element</span> <span class="ow">in</span> <span class="n">recved_data</span><span class="p">:</span>
            <span class="n">client_socket</span><span class="p">,</span> <span class="n">address</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">data_element</span> 
            <span class="n">Server</span><span class="o">.</span><span class="n">send_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">client_socket</span><span class="p">)</span>
            <span class="n">Server</span><span class="o">.</span><span class="n">disconnect</span><span class="p">(</span><span class="n">client_socket</span><span class="p">)</span>
</code></pre></div>
<p>Now we are going to take a look at all the functions we did not cover yet.</p>
<h3 id="server-functions">Server Functions</h3>
<p>The <code>setup(self, ip: str = socket.gethostname(), port: int = 25567, listen: int = 5, recv_buffer: int = 2048,
handle_client=None, on_connect=None, on_disconnect=None, on_receive=None):</code> function prepares the Server. It got 
explained already.  </p>
<p>The <code>Server.exit_accept()</code> function stops and kills the accepting thread.  </p>
<p>The <code>Server.stop()</code> function pauses the accepting thread. You can start it again with <code>Server.start()</code>. The same function is
used when the amount of connections reaches the defined limit.</p>
<p>The <code>Server.recv_data(client_socket)</code> function is automatically called. You don't have to use it for receiving data.</p>
<p>The <code>Server.killed()</code> property returns True if the accepting thread got killed</p>
<p>The <code>Server.restart()</code> function will restart the accepting thread. If you want to accept Clients, make sure the 
<code>Server.event.accepting_thread.run</code> variable is True.  </p>
<p>The <code>Server.return_exceptions(delete=True, reset_exception=True)</code> returns all exceptions the class could catch. Use the 
<code>Server.event.exception.occurred</code> variable to check if an exception got caught. It can take two arguments. 
If <code>delete=True</code>, <code>Server.event.exception.list</code> gets reset. If <code>reset_exception=True</code>, <code>Server.exception</code> will be set 
False.  </p>
<p>The <code>Server.disconnect(address)</code> function tries to disconnect a connection to the address</p>
<p>Now, let's cover some variables</p>
<h3 id="server-variables">Server Variables</h3>
<p>The <code>Server.recved_data</code> variable contains all the received data. I recommend 
using the <code>Server.return_recved_data()</code> for using the received data.</p>
<p>The <code>Server.event.accepting_thread.run</code> variable is True if the accepting thread is running.  </p>
<p>The <code>Server.event.exception.occurred</code> variable is True if any exceptions got caught. You can find the 
exceptions in the <code>Server,event.exception.list</code> variable.  </p>
<p>The <code>Server.event.new_data</code> variable is True if the Server received new data.</p>
<p>The <code>Server.socket</code> variable contains the Server socket.</p>
<p>The <code>Server.clients</code> variable is a dictionary. The key is the address, the value is a list 
of the Client Thread as it's first value, and the Client socket as it second value.</p>
<p>The <code>Server.max_connections</code> variable defines how many connections the Server accepts before refusing new connections. It
can be defined in the initialization of the Server object:<br />
<code>Server = TCPServer(5)</code>.  </p>
<p>The <code>Server.on_connect</code>, <code>Server.on_disconnect</code> and <code>Server.on_receive</code> variables should 
contain functions. The <code>Server.on_connect</code> and <code>Server.on_disconnect</code> take the address as an 
argument. The <code>Server.on_receive</code> takes the received data as an argument.  </p>
<h2 id="client">Client</h2>
<p>Let's get started with the Client.<br />
First you initialise the Client.<br />
Then you need to call <code>setup()</code>. You can give the following arguments:<br />
- target_ip: <em>The ip the Client connects to</em><br />
- target_port: <em>The port the Client connects to, standard: <code>25567</code></em><br />
- listen: <em>Is the value used in <code>socket.listen()</code>, standard: <code>5</code></em><br />
- recv_buffer: <em>Is the amount of bytes the socket receives at maximum, standard: <code>2048</code></em><br />
- on_connect: <em>This variable should contain a function. It will be executed right after the Client 
connected to the Server. It takes no arguments.</em><br />
- on_disconnect: <em>This variable should contain a function. It will be executed when the Client disconnects 
  from the Server</em><br />
- on_receive: <em>This variable should contain a function. It will be executed when the Client 
received new data. It takes the received data as an argument.</em><br />
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">simplesockets.simplesockets</span> <span class="kn">import</span> <span class="n">TCPClient</span>

<span class="n">Client</span> <span class="o">=</span> <span class="n">TCPClient</span><span class="p">()</span> 
<span class="n">Client</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">target_ip</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">target_port</span><span class="o">=</span><span class="mi">9999</span><span class="p">)</span> <span class="c1"># more options: listen=5, recv_buffer=2048, handle_client=None</span>
</code></pre></div></p>
<p>It's almost the same as with the Server. Next we need to connect to the Server.</p>
<p><div class="highlight"><pre><span></span><code><span class="n">Client</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="n">Client</span><span class="o">.</span><span class="n">autorecv</span><span class="p">()</span>
</code></pre></div>
The <code>Client.autorecv()</code> starts a Thread which collects all incoming data.</p>
<p><div class="highlight"><pre><span></span><code><span class="n">Client</span><span class="o">.</span><span class="n">send_data</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;Test)</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
  <span class="k">if</span> <span class="n">Client</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">new_data</span><span class="p">:</span> 
</code></pre></div>
Then the Clients sends his message. Next, we wait for incoming data in a while loop. 
Should we receive data trough the <code>Client.autorecv()</code>, <code>Client.new_data_recved</code> will be true.</p>
<p><div class="highlight"><pre><span></span><code>  <span class="n">recved_data</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">return_recved_data</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">data_element</span> <span class="ow">in</span> <span class="n">recved_data</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">data_element</span><span class="p">)</span>
</code></pre></div>
Here is the complete code:
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">simplesockets.simplesockets</span> <span class="kn">import</span> <span class="n">TCPClient</span>

<span class="n">Client</span> <span class="o">=</span> <span class="n">TCPClient</span><span class="p">()</span> 
<span class="n">Client</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">target_ip</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">target_port</span><span class="o">=</span><span class="mi">9999</span><span class="p">)</span> <span class="c1"># more options: listen=5, recv_buffer=2048, handle_client=None</span>
<span class="n">Client</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="n">Client</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="n">Client</span><span class="o">.</span><span class="n">autorecv</span><span class="p">()</span>

<span class="n">Client</span><span class="o">.</span><span class="n">send_data</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;Test&#39;</span><span class="p">)</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
  <span class="k">if</span> <span class="n">Client</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">new_data</span><span class="p">:</span> 
    <span class="n">recved_data</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">return_recved_data</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">data_element</span> <span class="ow">in</span> <span class="n">recved_data</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">data_element</span><span class="p">)</span>
</code></pre></div>
Now we should take al look at all functions we didn't cover yet.</p>
<h3 id="client-functions">Client Functions</h3>
<p>The <code>Client.setup(target_ip: str, target_port: int = 25567, recv_buffer: int = 2048, on_connect: Callable = None,
on_disconnect: Callable = None, on_receive: Callable = None):</code> function prepares the Client. 
This function got explained previously.  </p>
<p>The <code>Client.connect()</code> function tries to connect to the Server.  </p>
<p>The <code>Client.send_data(data: bytes)</code> function tries to send the given data to the Server.  </p>
<p>The <code>Client.reconnect()</code> function try's to reconnect to the Server.</p>
<p>The <code>Client.shutdown()</code> function ends the <code>autrecv</code> Thread end closes the Connection.</p>
<p>The <code>Client.return_exceptions()</code> returns all exceptions</p>
<p>The <code>Client.return_recved_data()</code> function returns the received data and sets <code>Client.event.new_data</code> to False.  </p>
<p>The <code>Client.autorecv()</code> function toggles the <code>autorecv_thread</code>. It starts stopped.  </p>
<p>The <code>Client.disconnect()</code> function tries to disconnect from the Server.  </p>
<h3 id="client-variables">Client Variables</h3>
<p>The <code>Client.recved_data</code> variable contains all the received data. I recommend 
using the <code>Client.return_recved_data()</code> for using the received data.</p>
<p>The <code>Client.socket</code> variable contains the Client socket.</p>
<p>The <code>Client.event.exception.occurred</code> variable is true if any exceptions raised and got caught.  </p>
<p>The <code>Client.event.exception.list</code> variable contains all caught exceptions.  </p>
<p>The <code>CLient.event.new_data</code> variable is true if the Client received any new data.  </p>
<p>The <code>Client.event.disconnected</code> variable is True if the Client disconnected from the Serer.  </p>
<p>The <code>Client.event.connected</code> variable is True if the connecting proccess to the Server was succesful.  </p>
<p>The <code>Client.event.is_connected</code> variable is True if the Client is connected to the Server.</p>
<p>The <code>Client.Address</code> property is a tuple of the <code>target_ip</code> and the <code>target_port.</code></p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href=".." class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Home
            </div>
          </div>
        </a>
      
      
        <a href="../simple_sockets-reference/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Simplesockets
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.4ea5477f.min.js"></script>
      
    
  </body>
</html>